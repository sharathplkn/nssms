<!-- templates/home.html -->
{% extends 'nss/base.html' %}
{% load static %}
{% block content %}
<head>
    <link rel="stylesheet" href="{% static '/css/home.css' %}">
</head>

<div class="container">
    <div class="left-div">
        <!-- Content for the left div -->
        <h2>Moving Images</h2>
        <div class="slideshow-container">
            <div class="mySlides fade">
                <img src="{% static 'images/image1.jpg' %}" alt="Slide 1">
            </div>
            <div class="mySlides fade">
                <img src="{% static 'images/image2.jpg' %}" alt="Slide 2">
            </div>
            <div class="mySlides fade">
                <img src="{% static 'images/image3.jpg' %}" alt="Slide 3">
            </div>
            <!-- Optional: Add navigation buttons -->
            <div class="slideshow-controls">
                <button onclick="plusSlides(-1)">❮ Prev</button>
                <button onclick="plusSlides(1)">Next ❯</button>
            </div>
        </div>
    </div>
    <div class="right-div">
        <!-- Content for the right div -->
        <table border="1" cellspacing="0">
        <tr><th class="heading">New Notifications</th></tr>
        <th>Attendances</th>
        {% for i in pending_statuses %}
            <div class="notification-item">
                <tr><td>{{ i.date }}</td></tr>
                <tr><td>{{ i.event.event_name | title }}</td></tr>
            </div>
        {% endfor %}
        </table>
    </div>
</div>

<script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        let slides = document.getElementsByClassName("mySlides");
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";  
        }
        slideIndex++;
        if (slideIndex > slides.length) { slideIndex = 1; }
        slides[slideIndex-1].style.display = "block";  
        setTimeout(showSlides, 2000); // Change image every 2 seconds
    }

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }
</script>
{% endblock %}
